# One-Shot Format Specification

**Document Type**: `one-shot-{budget}.md`
**Purpose**: Complete, self-contained guides within specific token budgets
**Target**: Consumption graph output
**Generated By**: ContentGenerator tool

## Purpose

One-shot documents provide complete, self-contained information about a topic within a specified token budget. They enable LLMs to understand and work with a topic without requiring additional context or documentation references.

## Document Variants

### `one-shot-1200.md` - Standard Complete Guide
- **Token Budget**: 1200 tokens
- **Scope**: Comprehensive coverage with practical focus
- **Audience**: Developers seeking complete understanding

### `one-shot-2400.md` - Detailed Complete Guide
- **Token Budget**: 2400 tokens
- **Scope**: Comprehensive coverage with additional context and edge cases
- **Audience**: Developers requiring thorough understanding

### `one-shot-syntax-600.md` - Syntax Reference
- **Token Budget**: 600 tokens
- **Scope**: Pure syntax and API reference
- **Audience**: Experienced developers needing quick reference

## Structure Requirements

### Header
```markdown
# [Topic Name] Complete Guide

One-sentence description of what this guide covers.
```

### Core Sections

#### For Standard and Detailed Guides (1200/2400 tokens)

1. **Essential Information** (Required)
   - Core concept definition
   - Primary use cases
   - Key benefits

2. **How It Works** (Required)
   - Fundamental mechanisms
   - Key APIs and classes
   - Basic patterns

3. **Common Implementation** (Required)
   - Typical usage patterns
   - Standard code examples
   - Best practices

4. **Important Considerations** (Required for 2400, Optional for 1200)
   - Performance implications
   - Common pitfalls
   - Edge cases

#### For Syntax Reference (600 tokens)

1. **Core APIs** (Required)
   - Primary classes and methods
   - Essential syntax patterns
   - Parameter requirements

2. **Common Patterns** (Required)
   - Standard usage syntax
   - Typical parameter combinations
   - Return types and handling

## Content Guidelines

### Writing Style
- **Self-Contained**: No external references required
- **Implementation-Focused**: Emphasize how to use the topic
- **Authoritative**: Based on official documentation and best practices
- **Efficient**: Maximum information density within token constraints

### Code Examples
- **Practical**: Show real-world usage patterns
- **Complete**: Examples should be runnable or near-runnable
- **Commented**: Brief inline comments for clarity
- **Representative**: Cover the most common scenarios

### Technical Requirements
- **Token Budget Compliance**: Stay within Â±10% of specified token limit
- **Completeness**: Cover all essential aspects within budget constraints
- **Accuracy**: All code examples must be syntactically correct

## Token Budget Strategy

### Budget Allocation Guidelines

#### 1200 Token Budget
- **Essential Information**: ~200 tokens (17%)
- **How It Works**: ~300 tokens (25%)
- **Common Implementation**: ~600 tokens (50%)
- **Important Considerations**: ~100 tokens (8%)

#### 2400 Token Budget
- **Essential Information**: ~300 tokens (12.5%)
- **How It Works**: ~500 tokens (21%)
- **Common Implementation**: ~1200 tokens (50%)
- **Important Considerations**: ~400 tokens (16.5%)

#### 600 Token Budget (Syntax)
- **Core APIs**: ~350 tokens (58%)
- **Common Patterns**: ~250 tokens (42%)

### Content Prioritization
1. **Critical Information**: Must-have content for topic understanding
2. **Common Use Cases**: Most frequently encountered scenarios
3. **Best Practices**: Essential guidance for proper usage
4. **Edge Cases**: Advanced scenarios (2400 token budget only)

## Quality Standards

### Similarity Requirements
- Must maintain >0.7 similarity to corresponding `golden-reference.md`
- Warning threshold: 0.5-0.7 similarity
- Error threshold: <0.5 similarity

### Token Budget Validation
- **Acceptable**: Within 10% of target budget
- **Warning**: 20% or more under budget
- **Error**: More than 10% over budget

### Content Validation
- All code examples must be compilable
- API references must be current and accurate
- Usage patterns must reflect current best practices

## Example Structure

### Standard Guide (1200 tokens)
```markdown
# System.Text.Json Complete Guide

Complete guide to JSON serialization and deserialization in .NET.

## Essential Information

System.Text.Json provides high-performance JSON processing...

## How It Works

The library uses source generators and reflection...

## Common Implementation

### Basic Serialization
```csharp
var json = JsonSerializer.Serialize(myObject);
```

### Deserialization with Options
```csharp
var options = new JsonSerializerOptions
{
    PropertyNamingPolicy = JsonNamingPolicy.CamelCase
};
var obj = JsonSerializer.Deserialize<MyClass>(json, options);
```

## Important Considerations

Performance characteristics favor System.Text.Json over Newtonsoft.Json...
```

### Syntax Reference (600 tokens)
```markdown
# System.Text.Json Syntax Reference

Essential syntax for JSON operations in .NET.

## Core APIs

### JsonSerializer Class
- `JsonSerializer.Serialize<T>(T value)` - Serialize object to JSON string
- `JsonSerializer.Deserialize<T>(string json)` - Deserialize JSON to object
- `JsonSerializer.SerializeAsync<T>(Stream stream, T value)` - Async serialize to stream

### JsonSerializerOptions Class
- `PropertyNamingPolicy` - Configure property naming
- `WriteIndented` - Format output JSON
- `IgnoreNullValues` - Handle null value serialization

## Common Patterns

### Basic Operations
```csharp
// Serialize
string json = JsonSerializer.Serialize(obj);

// Deserialize
var obj = JsonSerializer.Deserialize<MyClass>(json);

// With options
var options = new JsonSerializerOptions { WriteIndented = true };
string json = JsonSerializer.Serialize(obj, options);
```
```

## Generation Notes

When ContentGenerator creates one-shot documents:

1. **Budget Analysis**: Analyze source content richness to determine appropriate detail level
2. **Content Prioritization**: Focus on most essential and commonly used aspects
3. **Token Monitoring**: Continuously track token usage during generation
4. **Completeness Validation**: Ensure all critical aspects are covered within budget
5. **Syntax Accuracy**: Validate all code examples for correctness

The one-shot document should enable an LLM to work effectively with the topic without requiring additional documentation references.